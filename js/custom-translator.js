angular.module('app', ['pascalprecht.translate'])
.config(['$translateProvider', function($translateProvider){
  // Adding a translation table for the English language
  $translateProvider.translations('en_US', {
    "TITLE"     : "Ola y Carlos 30.7.2016",
    "HOME"		: "Home",
    "ABOUT"		: "About",
    "GALERIA"	: "Gallery",
    "FAQ"		: "Faq",
    "SERV"		: "Services",
    "CONTACT"	: "Contact",
    "DETAILS"	: "La Boda",
    "LOCATION"	: "Como llegar"
    
  });
  // Adding a translation table for the Russian language
  $translateProvider.translations('es_ES', {
    "TITLE"     : "Ola y Carlos 30.7.2016",
    "HOME"      : "Inicio",
    "ABOUT"		: "Sobre",
    "GALERIA"	: "Galería",
    "FAQ"		: "Faq",
    "SERV"		: "Más Info",
    "CONTACT"	: "Turismo",
    "DETAILS"	: "La Boda",
    "LOCATION"	: "Como llegar"
  });
  
  
	//// Tell the module what language to use by default
	var loc_lang = localStorage.getItem('loc_lang');
	if(!loc_lang){
		localStorage.setItem('loc_lang', 'es_ES');	
	} 
  	$translateProvider.preferredLanguage(loc_lang);

}])
.controller('ctrl', ['$scope', '$translate', function($scope, $translate) {
  $scope.tlData = {
    staticValue : 42,
    randomValue : Math.floor(Math.random() * 1000)
  };
  $scope.jsTrSimple = $translate.instant('SERVICE');
  $scope.jsTrParams = $translate.instant('SERVICE_PARAMS', $scope.tlData);
  $scope.setLang = function(langKey) {
	localStorage.setItem('loc_lang', langKey);
    // You can change the language during runtime
    $translate.use(langKey);
    // A data generated by the script have to be regenerated
    $scope.jsTrSimple = $translate.instant('SERVICE');
    $scope.jsTrParams = $translate.instant('SERVICE_PARAMS', $scope.tlData);
  };
}]);
